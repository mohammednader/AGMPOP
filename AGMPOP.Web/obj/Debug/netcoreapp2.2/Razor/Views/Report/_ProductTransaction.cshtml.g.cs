#pragma checksum "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b824388fdedfd6e60de5967bb647a2d8f03c6d4b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Report__ProductTransaction), @"mvc.1.0.view", @"/Views/Report/_ProductTransaction.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Report/_ProductTransaction.cshtml", typeof(AspNetCore.Views_Report__ProductTransaction))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\_ViewImports.cshtml"
using AGMPOP.Web;

#line default
#line hidden
#line 2 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\_ViewImports.cshtml"
using AGMPOP.Web.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b824388fdedfd6e60de5967bb647a2d8f03c6d4b", @"/Views/Report/_ProductTransaction.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c3344144602cec692e91fef16bcf12fc0a4de791", @"/Views/_ViewImports.cshtml")]
    public class Views_Report__ProductTransaction : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<AGMPOP.BL.Models.ViewModels.ProductDTO>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(53, 1041, true);
            WriteLiteral(@"
<div class=""card card-body mt-2"">
    <div class=""row"">
        <div class=""col-12 text-right my-1 "">
            <button type=""button"" class=""btn btn-success btn-md"" onclick='ExportInventory()'>
                Export&nbsp;&nbsp;
                <i class=""fas fa-file-excel""></i>
            </button>
            <hr />
        </div>

        <div class=""col-md-12"">

            <table id=""dtBasicExample"" class=""table table-responsive-sm table-responsive-md table-striped table-bordered"" cellspacing=""0"">
                <thead>
                    <tr>
                        <th data-field=""photo"" class=""text-center""></th>
                        <th data-field=""name"" data-sortable=""true"">Name</th>
                        <th data-field=""quantity"">quantity</th>
                        <th data-field=""DepartmentId"">Department</th>
                        <th data-sortable=""false"" class=""td-actions text-center"">Actions</th>

                    </tr>
                </thead>
          ");
            WriteLiteral("      <tbody>\r\n\r\n");
            EndContext();
#line 28 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                      
                        if (Model != null)
                        {

                            foreach (var item in Model)
                            {

#line default
#line hidden
            BeginContext(1279, 175, true);
            WriteLiteral("                                <tr>\r\n                                    <td class=\"text-center\">\r\n                                        <div class=\"img-circle product-img\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 1454, "\"", 1517, 3);
            WriteAttributeValue("", 1462, "background-image:url(\'", 1462, 22, true);
#line 36 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 1484, item.Image.Replace(@"\", "/"), 1484, 30, false);

#line default
#line hidden
            WriteAttributeValue("", 1514, "\');", 1514, 3, true);
            EndWriteAttribute();
            BeginContext(1518, 165, true);
            WriteLiteral(" />\r\n                                    </td>\r\n                                    <td>\r\n                                        <b><a class=\"btn-link text-primary\"");
            EndContext();
            BeginWriteAttribute("onclick", "  onclick=\"", 1683, "\"", 1729, 3);
            WriteAttributeValue("", 1694, "ShowProductDetails(", 1694, 19, true);
#line 39 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 1713, item.ProductId, 1713, 15, false);

#line default
#line hidden
            WriteAttributeValue("", 1728, ")", 1728, 1, true);
            EndWriteAttribute();
            BeginContext(1730, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(1732, 16, false);
#line 39 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                                                                                                      Write(item.ProductName);

#line default
#line hidden
            EndContext();
            BeginContext(1748, 55, true);
            WriteLiteral("</a></b>\r\n\r\n                                    </td>\r\n");
            EndContext();
#line 42 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                     if (item.ShowUpdateBtns == false)
                                    {

#line default
#line hidden
            BeginContext(1914, 169, true);
            WriteLiteral("                                        <td>\r\n                                            <input type=\"number\" class=\"form-control\" style=\"width:250px; margin-left:10px\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2083, "\"", 2110, 1);
#line 45 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 2091, item.InventoryQnty, 2091, 19, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("id", " id=\"", 2111, "\"", 2131, 1);
#line 45 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 2116, item.ProductId, 2116, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("onclick", " onclick=\"", 2132, "\"", 2177, 3);
            WriteAttributeValue("", 2142, "changeQuantity(", 2142, 15, true);
#line 45 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 2157, item.InventoryQnty, 2157, 19, false);

#line default
#line hidden
            WriteAttributeValue("", 2176, ")", 2176, 1, true);
            EndWriteAttribute();
            BeginContext(2178, 88, true);
            WriteLiteral(" disabled />\r\n                                            <input id=\"temp\" type=\"hidden\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2266, "\"", 2293, 1);
#line 46 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 2274, item.InventoryQnty, 2274, 19, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2294, 52, true);
            WriteLiteral(" />\r\n                                        </td>\r\n");
            EndContext();
#line 48 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                    }
                                    else
                                    {

#line default
#line hidden
            BeginContext(2466, 93, true);
            WriteLiteral("                                        <td>\r\n                                            <p>");
            EndContext();
            BeginContext(2560, 18, false);
#line 52 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                          Write(item.InventoryQnty);

#line default
#line hidden
            EndContext();
            BeginContext(2578, 53, true);
            WriteLiteral("</p>\r\n                                        </td>\r\n");
            EndContext();
#line 54 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                    }

#line default
#line hidden
            BeginContext(2670, 87, true);
            WriteLiteral("                                    <td>\r\n\r\n                                        <p>");
            EndContext();
            BeginContext(2758, 19, false);
#line 57 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                      Write(item.DepartmentName);

#line default
#line hidden
            EndContext();
            BeginContext(2777, 330, true);
            WriteLiteral(@"</p>

                                    </td>


                                    <td class=""text-center"">
                                        <button class=""material-tooltip-main btn-warning btn-floating btn-sm"" data-toggle=""tooltip"" title=""View Transactions Report"">
                                            <a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 3107, "\"", 3193, 1);
#line 64 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 3114, Url.Action("TransactionProductDetails", "Report", new { id = item.ProductId }), 3114, 79, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3194, 141, true);
            WriteLiteral(" target=\"_blank\" class=\"btn-link\" data-toggle=\"tooltip\"> <i class=\"fas fa-list\"></i></a>\r\n                                        </button>\r\n");
            EndContext();
#line 66 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                         if (item.ShowUpdateBtns == true)
                                        {


#line default
#line hidden
            BeginContext(3455, 149, true);
            WriteLiteral("                                            <button class=\"material-tooltip-main btn-primary  btn-floating btn-sm\" data-toggle=\"tooltip\" title=\"Edit\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 3604, "\"", 3635, 1);
#line 69 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 3609, item.ProductId + "edit", 3609, 26, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("onclick", " onclick=\"", 3636, "\"", 3682, 3);
            WriteAttributeValue("", 3646, "javascript:editQunt(", 3646, 20, true);
#line 69 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 3666, item.ProductId, 3666, 15, false);

#line default
#line hidden
            WriteAttributeValue("", 3681, ")", 3681, 1, true);
            EndWriteAttribute();
            BeginContext(3683, 141, true);
            WriteLiteral(">\r\n                                                <i class=\"fas fa-pencil-alt\"></i>\r\n                                            </button>\r\n");
            EndContext();
            BeginContext(3828, 156, true);
            WriteLiteral("                                            <button class=\"material-tooltip-main btn-danger btn-floating btn-sm d-none\" data-toggle=\"tooltip\" title=\"Cancel\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 3984, "\"", 4017, 1);
#line 74 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 3989, item.ProductId + "cancle", 3989, 28, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("onclick", " onclick=\"", 4018, "\"", 4055, 3);
            WriteAttributeValue("", 4028, "cancelQunt(", 4028, 11, true);
#line 74 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 4039, item.ProductId, 4039, 15, false);

#line default
#line hidden
            WriteAttributeValue("", 4054, ")", 4054, 1, true);
            EndWriteAttribute();
            BeginContext(4056, 136, true);
            WriteLiteral(">\r\n                                                <i class=\"fas fa-times\"></i>\r\n                                            </button>\r\n");
            EndContext();
            BeginContext(4194, 160, true);
            WriteLiteral("                                            <button class=\"material-tooltip-main btn-success  btn btn-floating btn-sm d-none\" data-toggle=\"tooltip\" title=\"Save\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 4354, "\"", 4385, 1);
#line 78 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 4359, item.ProductId + "save", 4359, 26, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("onclick", " onclick=\"", 4386, "\"", 4421, 3);
            WriteAttributeValue("", 4396, "saveQunt(", 4396, 9, true);
#line 78 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
WriteAttributeValue("", 4405, item.ProductId, 4405, 15, false);

#line default
#line hidden
            WriteAttributeValue("", 4420, ")", 4420, 1, true);
            EndWriteAttribute();
            BeginContext(4422, 136, true);
            WriteLiteral(">\r\n                                                <i class=\"fas fa-check\"></i>\r\n                                            </button>\r\n");
            EndContext();
#line 81 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                                        }

#line default
#line hidden
            BeginContext(4601, 82, true);
            WriteLiteral("                                    </td>\r\n                                </tr>\r\n");
            EndContext();
#line 84 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                            }

                        }
                        else
                        {

#line default
#line hidden
            BeginContext(4800, 202, true);
            WriteLiteral("                            <tr>\r\n                                <td>\r\n\r\n                                    data Not Found\r\n                                </td>\r\n\r\n                            </tr>\r\n");
            EndContext();
#line 96 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
                        }
                    

#line default
#line hidden
            BeginContext(5052, 149, true);
            WriteLiteral("                </tbody>\r\n\r\n            </table>\r\n        </div><!--  end card  -->\r\n\r\n\r\n    </div> <!-- end col-md-12 -->\r\n</div> <!-- end row -->\r\n");
            EndContext();
            BeginContext(5217, 1354, true);
            WriteLiteral(@"<script type=""text/javascript"">
    $(function () {
        $('.material-tooltip-main').tooltip();
    })
    var $table = $('#cycles-table');
    $table.bootstrapTable({
        toolbar: "".toolbar"",
        clickToSelect: true,
        //showRefresh: true,
        search: true,
        //showToggle: true,
        //showColumns: true,
        pagination: true,
        searchAlign: 'left',
        pageSize: 8,
        clickToSelect: false,
        pageList: [8, 10, 25, 50, 100],

        formatShowingRows: function (pageFrom, pageTo, totalRows) {
            //do nothing here, we don't want to show the text ""showing x of y from...""
        },
        formatRecordsPerPage: function (pageNumber) {
            return pageNumber + "" rows visible"";
        },
        icons: {
            columns: 'fa-columns'
        }
    });

    $(document).ready(function () {
        $('#dtBasicExample').DataTable({ ""autoWidth"": false, ""pageLength"": 20});

        //activate the tooltips after th");
            WriteLiteral(@"e data table is initialized
        $('[rel=""tooltip""]').tooltip();

        $(window).resize(function () {
            $table.bootstrapTable('resetView');
        });
    });

</script>

<script>
    function TransactionProduct(id) {
        window.location.href = ""Report/TransactionProductDetails/"" + id;
    }

");
            EndContext();
            BeginContext(6608, 317, true);
            WriteLiteral(@"    function editQunt(id) {

        $(""#"" + id).prop('disabled', false);
        $(""#"" + id + ""save"").toggleClass('d-inline');
        $(""#"" + id + ""edit"").toggleClass('d-none');
        $(""#"" + id + ""cancle"").toggleClass('d-inline');
        $(""#msg"").addClass('d-none');

        changeQunt(id);
    }

");
            EndContext();
            BeginContext(6963, 381, true);
            WriteLiteral(@"    function cancelQunt(id) {
        $(""#"" + id).val($(""#temp"").val());
        console.log($(""#temp"").val());
        $(""#"" + id + ""save"").toggleClass('d-inline');
        $(""#"" + id + ""edit"").toggleClass('d-none');
        $(""#"" + id + ""cancle"").toggleClass('d-inline');

        $(""#msg"").addClass('d-none');

        $(""#"" + id).prop('disabled', true);


    }

");
            EndContext();
            BeginContext(7365, 116, true);
            WriteLiteral("    function changeQunt(id) {\r\n        var change = $(\"#\" + id).val();\r\n        $(\"#temp\").val(change);\r\n\r\n    }\r\n\r\n");
            EndContext();
            BeginContext(7508, 2753, true);
            WriteLiteral(@"    function saveQunt(id) {

        if (!$(""#"" + id).val()) {

            $(""#msg"").css('display', 'inline-block');

        }
        else {
            // check two values temp vs actual
            if ($(""#"" + id).val() != $(""#temp"").val()) {
                if ($(""#"" + id).val() != null) {
                    var _parameters = { Id: id, Qunt: $(""#"" + id).val() }
                }
                else {
                    var _parameters = { Id: id }

                }
                if ($(""#temp"").val() < $(""#"" + id).val()) {
                    $.ajax({
                        url: ""/inventory/EditQuantity"",
                        type: ""GET"",
                        data: _parameters,
                        success: function (data) {
                            //  window.location.href = ""/Department/Index"";
                            if (data) {
                                if (data.success) {
                                    swal.fire({
                         ");
            WriteLiteral(@"               text: 'Your data has been updated',
                                        icon: 'success',
                                      
                                    })

                                }
                                else {
                                    swal.fire({
                                        text: data.message,
                                        icon: 'error',

                                    })

                                }

                            }


                            $(""#"" + id + ""save"").toggleClass('d-inline');
                            $(""#"" + id + ""edit"").toggleClass('d-none');
                            $(""#"" + id + ""cancle"").toggleClass('d-inline');
                            $(""#"" + id).prop('disabled', true);


                        }
                    });
                }
                else {
                    var temp = $(""#temp"").val();
                    $(""#"" + id).val(");
            WriteLiteral(@"temp);

                }
            }
            else {
                swal.fire({
                    text: 'Nothing has changed !!',
                    icon: 'info',
                    buttonsStyling: false
                });
                $(""#"" + id + ""save"").toggleClass('d-inline');
                $(""#"" + id + ""edit"").toggleClass('d-none');
                $(""#"" + id + ""cancle"").toggleClass('d-inline');
                $(""#"" + id).prop('disabled', true);



            }
        }
    }



</script>


<script>


    async function ExportInventory() {

        var now = moment().format();
        var form = $(""#inventory"").serialize();
        fetch('");
            EndContext();
            BeginContext(10262, 35, false);
#line 278 "E:\TFS\POPAGM\AGMPOP_Core\AGMPOP.Web\Views\Report\_ProductTransaction.cshtml"
          Write(Url.Action("ExportInventoryReport"));

#line default
#line hidden
            EndContext();
            BeginContext(10297, 1166, true);
            WriteLiteral(@"?' + form,
            {
             method: 'get',
             headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        }).then(response => {
            return response.blob();
        }).then(blob => {
            if (!blob) {
                swal.fire({
                    icon: 'error',
                    text: 'No file to download',
                });
                return;
            } else if (!blob.size){
                swal.fire({
                    icon: 'error',
                    text: 'You don\'t have permission',
                });
                return;
            }
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = `Inventory_${now}.xlsx`;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            }).catch(err => {
              ");
            WriteLiteral("  swal.fire({\r\n                icon: \'error\',\r\n                text: \'An error occured\',\r\n            });\r\n        });\r\n    }\r\n</script>\r\n\r\n\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<AGMPOP.BL.Models.ViewModels.ProductDTO>> Html { get; private set; }
    }
}
#pragma warning restore 1591
